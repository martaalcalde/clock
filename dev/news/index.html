<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • clock</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Changelog" />
<meta property="og:image" content="https://clock.r-lib.org/logo.png" />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">clock</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.4.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/clock.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/articles/motivations.html">Motivations for clock</a>
    </li>
    <li>
      <a href="../articles/faq.html">Frequently Asked Questions</a>
    </li>
    <li>
      <a href="../articles/recipes.html">Examples and Recipes</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    News
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li class="dropdown-header">Releases</li>
    <li>
      <a href="https://www.tidyverse.org/blog/2021/03/clock-0-1-0/">Version 0.1.0</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../news/index.html">Changelog</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/r-lib/clock/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/r-lib/clock/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="clock-development-version" class="section level1">
<h1 class="page-header" data-toc-text="development version">
<a href="#clock-development-version" class="anchor"></a>clock (development version)<small> Unreleased </small>
</h1>
<ul>
<li>Further improved documentation of undefined behavior resulting from attempting to parse sub-daily components of a string that is intended to be parsed into a Date (<a href='https://github.com/r-lib/clock/issues/258'>#258</a>).</li>
</ul>
</div>
    <div id="clock-041" class="section level1">
<h1 class="page-header" data-toc-text="0.4.1">
<a href="#clock-041" class="anchor"></a>clock 0.4.1<small> 2021-09-21 </small>
</h1>
<ul>
<li>Updated a test related to upcoming changes in testthat.</li>
</ul>
</div>
    <div id="clock-040" class="section level1">
<h1 class="page-header" data-toc-text="0.4.0">
<a href="#clock-040" class="anchor"></a>clock 0.4.0<small> 2021-07-22 </small>
</h1>
<ul>
<li><p>New <code><a href="../reference/date-and-date-time-boundary.html">date_start()</a></code> and <code><a href="../reference/date-and-date-time-boundary.html">date_end()</a></code> for computing the date at the start or end of a particular <code>precision</code>, such as the “end of the month” or the “start of the year”. These are powered by <code><a href="../reference/calendar-boundary.html">calendar_start()</a></code> and <code><a href="../reference/calendar-boundary.html">calendar_end()</a></code>, which allow for even more flexible calendar-specific boundary generation, such as the “last moment in the fiscal quarter” (<a href='https://github.com/r-lib/clock/issues/232'>#232</a>).</p></li>
<li><p>New <code><a href="../reference/clock-invalid.html">invalid_remove()</a></code> for removing invalid dates. This is just a wrapper around <code>x[!invalid_detect(x)]</code>, but works nicely with the pipe (<a href='https://github.com/r-lib/clock/issues/229'>#229</a>).</p></li>
<li><p>All clock types now support <code><a href="https://rdrr.io/r/base/is.finite.html">is.nan()</a></code>, <code><a href="https://rdrr.io/r/base/is.finite.html">is.finite()</a></code>, and <code><a href="https://rdrr.io/r/base/is.finite.html">is.infinite()</a></code>. Additionally, duration types now support <code><a href="https://rdrr.io/r/base/MathFun.html">abs()</a></code> and <code><a href="https://rdrr.io/r/base/sign.html">sign()</a></code> (<a href='https://github.com/r-lib/clock/issues/235'>#235</a>).</p></li>
<li><p>tzdb 0.1.2 is now required, which fixes compilation issues on RHEL7/Centos (<a href='https://github.com/r-lib/clock/issues/234'>#234</a>).</p></li>
</ul>
</div>
    <div id="clock-031" class="section level1">
<h1 class="page-header" data-toc-text="0.3.1">
<a href="#clock-031" class="anchor"></a>clock 0.3.1<small> 2021-06-28 </small>
</h1>
<ul>
<li>
<p>Parsing into a date-time type that is coarser than the original string is now considered ambiguous and undefined behavior. For example, parsing a string with fractional seconds using <code><a href="../reference/date-time-parse.html">date_time_parse(x)</a></code> or <code><a href="../reference/naive_time_parse.html">naive_time_parse(x, precision = "second")</a></code> is no longer considered correct. Instead, if you only require second precision from such a string, parse the full string, with fractional seconds, into a clock type that can handle them, then round to seconds using whatever rounding convention is required for your use case, such as <code><a href="../reference/time-point-rounding.html">time_point_floor()</a></code> (<a href='https://github.com/r-lib/clock/issues/230'>#230</a>).</p>
<p>For example:</p>
<pre><code>x &lt;- c("2019-01-01 00:00:59.123", "2019-01-01 00:00:59.556")

x &lt;- naive_time_parse(x, precision = "millisecond")
x
#&gt; &lt;time_point&lt;naive&gt;&lt;millisecond&gt;[2]&gt;
#&gt; [1] "2019-01-01 00:00:59.123" "2019-01-01 00:00:59.556"

x &lt;- time_point_round(x, "second")
x
#&gt; &lt;time_point&lt;naive&gt;&lt;second&gt;[2]&gt;
#&gt; [1] "2019-01-01 00:00:59" "2019-01-01 00:01:00"

as_date_time(x, "America/New_York")
#&gt; [1] "2019-01-01 00:00:59 EST" "2019-01-01 00:01:00 EST"</code></pre>
</li>
<li><p>Preemptively updated tests related to upcoming changes in testthat (<a href='https://github.com/r-lib/clock/issues/236'>#236</a>).</p></li>
</ul>
</div>
    <div id="clock-030" class="section level1">
<h1 class="page-header" data-toc-text="0.3.0">
<a href="#clock-030" class="anchor"></a>clock 0.3.0<small> 2021-04-22 </small>
</h1>
<ul>
<li><p>New <code><a href="../reference/date_seq.html">date_seq()</a></code> for generating date and date-time sequences (<a href='https://github.com/r-lib/clock/issues/218'>#218</a>).</p></li>
<li><p>clock now uses the tzdb package to access the date library’s API. This means that the experimental API that was to be used for vroom has been removed in favor of using the one exposed in tzdb.</p></li>
<li><p><code>zone_database_names()</code> and <code>zone_database_version()</code> have been removed in favor of re-exporting <code><a href="https://r-lib.github.io/tzdb/reference/tzdb_names.html">tzdb_names()</a></code> and <code><a href="https://r-lib.github.io/tzdb/reference/tzdb_version.html">tzdb_version()</a></code> from the tzdb package.</p></li>
</ul>
</div>
    <div id="clock-020" class="section level1">
<h1 class="page-header" data-toc-text="0.2.0">
<a href="#clock-020" class="anchor"></a>clock 0.2.0<small> 2021-04-12 </small>
</h1>
<ul>
<li>
<p>clock now interprets R’s Date class as <em>naive-time</em> rather than <em>sys-time</em>. This means that it no longer assumes that Date has an implied time zone of UTC (<a href='https://github.com/r-lib/clock/issues/203'>#203</a>). This generally aligns better with how users think Date should work. This resulted in the following changes:</p>
<ul>
<li><p><code><a href="../reference/date-zone.html">date_zone()</a></code> now errors with Date input, as naive-times do not have a specified time zone.</p></li>
<li><p><code><a href="../reference/date_parse.html">date_parse()</a></code> now parses into a naive-time, rather than a sys-time, before converting to Date. This means that <code>%z</code> and <code>%Z</code> are now completely ignored.</p></li>
<li><p>The Date method for <code><a href="../reference/date_format.html">date_format()</a></code> now uses the naive-time <code><a href="https://rdrr.io/r/base/format.html">format()</a></code> method rather than the zoned-time one. This means that <code>%z</code> and <code>%Z</code> are no longer valid format commands.</p></li>
<li><p>The zoned-time method for <code><a href="https://rdrr.io/r/base/as.Date.html">as.Date()</a></code> now converts to Date through an intermediate naive-time, rather than a sys-time. This means that the printed date will always be retained, which is generally what is expected.</p></li>
<li><p>The Date method for <code><a href="../reference/as_zoned_time.html">as_zoned_time()</a></code> now converts to zoned-time through an intermediate naive-time, rather than a sys-time. This means that the printed date will always attempt to be retained, if possible, which is generally what is expected. In the rare case that daylight saving time makes a direct conversion impossible, <code>nonexistent</code> and <code>ambiguous</code> can be used to resolve any issues.</p></li>
</ul>
</li>
<li><p>New <code><a href="../reference/as_date.html">as_date()</a></code> and <code><a href="../reference/as_date_time.html">as_date_time()</a></code> for converting to Date and POSIXct respectively. Unlike <code><a href="https://rdrr.io/r/base/as.Date.html">as.Date()</a></code> and <code><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct()</a></code>, these functions always treat Date as a naive-time type, which results in more consistent and intuitive conversions. Note that <code><a href="../reference/as_date.html">as_date()</a></code> does conflict with <code><a href="https://lubridate.tidyverse.org/reference/as_date.html">lubridate::as_date()</a></code>, and the lubridate version handles Dates differently (<a href='https://github.com/r-lib/clock/issues/209'>#209</a>).</p></li>
<li>
<p>Added two new convenient helpers (<a href='https://github.com/r-lib/clock/issues/197'>#197</a>):</p>
<ul>
<li><p><code><a href="../reference/date-today.html">date_today()</a></code> for getting the current date (Date)</p></li>
<li><p><code><a href="../reference/date-today.html">date_now()</a></code> for getting the current date-time (POSIXct)</p></li>
</ul>
</li>
<li><p>Fixed a bug where converting from a time point to a Date or POSIXct could round incorrectly (<a href='https://github.com/r-lib/clock/issues/205'>#205</a>).</p></li>
<li><p>Errors resulting from invalid dates or nonexistent/ambiguous times are now a little nicer to read through the usage of an info bullet (<a href='https://github.com/r-lib/clock/issues/200'>#200</a>).</p></li>
<li><p>Formatting a naive-time with <code>%Z</code> or <code>%z</code> now warns that there were format failures (<a href='https://github.com/r-lib/clock/issues/204'>#204</a>).</p></li>
<li><p>Fixed a Solaris ambiguous behavior issue from calling <code>pow(int, int)</code>.</p></li>
<li><p>Linking against cpp11 0.2.7 is now required to fix a rare memory leak issue.</p></li>
<li><p>Exposed an extremely experimental and limited C++ API for vroom (<a href='https://github.com/r-lib/clock/issues/322'>#322</a>).</p></li>
</ul>
</div>
    <div id="clock-010" class="section level1">
<h1 class="page-header" data-toc-text="0.1.0">
<a href="#clock-010" class="anchor"></a>clock 0.1.0<small> 2021-03-31 </small>
</h1>
<ul>
<li>Added a <code>NEWS.md</code> file to track changes to the package.</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by Davis Vaughan, <a href='https://www.rstudio.com'><img src='https://www.tidyverse.org/rstudio-logo.svg' alt='RStudio' height='24' /></a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


